<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>JP.TRIP 2026 v17</title>
    
    <link rel="apple-touch-icon" sizes="180x180" href="icon.jpg">
    <link rel="icon" type="image/jpeg" href="icon.jpg">

    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Zen+Maru+Gothic:wght@400;700;900&family=Shippori+Mincho:wght@600;800&display=swap" rel="stylesheet">
    
    <style>
        /* THEME VARIABLES */
        :root {
            --navy-bg: #0f172a; /* Slate 900 - Navy Blue */
            --navy-card: #1e293b; /* Slate 800 */
            --text-light: #f8fafc;
            --accent: #38bdf8; /* Sky Blue */
        }

        body { 
            font-family: 'Zen Maru Gothic', sans-serif; 
            background-color: var(--navy-bg); 
            color: var(--text-light);
            overflow: hidden; /* Prevent body scroll */
            height: 100vh;
            width: 100vw;
        }
        
        .font-mincho { font-family: 'Shippori Mincho', serif; }
        
        /* SNOW EFFECT */
        .snow-container { position: absolute; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; z-index: 0; overflow: hidden; }
        .snowflake { position: absolute; top: -10px; color: white; opacity: 0.4; animation: fall linear infinite; }
        @keyframes fall { to { transform: translateY(110vh); } }

        /* UTILS */
        .no-scrollbar::-webkit-scrollbar { display: none; }
        .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
        .safe-bottom { padding-bottom: env(safe-area-inset-bottom); }
        .safe-top { padding-top: env(safe-area-inset-top); }
        
        /* GLASS CARD */
        .glass {
            background: rgba(30, 41, 59, 0.7);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 20px;
        }

        /* CHECKBOX */
        .check-box input:checked + div { background-color: #10b981; border-color: #10b981; }
    </style>
</head>
<body>

<div id="app" class="flex flex-col h-full w-full max-w-md mx-auto relative bg-[#0f172a]">
    
    <div class="snow-container" id="snow-container"></div>

    <main class="flex-1 overflow-y-auto no-scrollbar relative z-10 pb-32 pt-safe-top px-5" ref="mainScroll">
        
        <div v-if="currentView === 'dashboard'" class="space-y-6 animate-fade-in pt-4">
            
            <div class="flex justify-between items-center">
                <div>
                    <div class="text-[10px] font-bold text-slate-400 uppercase tracking-widest">JP.TRIP 2026</div>
                    <h1 class="text-3xl font-black font-mincho text-white">ÂêçÂè§Â±ã„ÉªÈ´òÂ±±</h1>
                </div>
                <div class="w-10 h-10 rounded-full border-2 border-white/20 overflow-hidden shadow-lg">
                    <img src="icon.jpg" class="w-full h-full object-cover">
                </div>
            </div>

            <div class="relative w-full aspect-[16/10] rounded-[32px] overflow-hidden shadow-2xl group">
                <img src="icon.jpg" class="absolute inset-0 w-full h-full object-cover opacity-60 transition-transform duration-700 group-hover:scale-105">
                <div class="absolute inset-0 bg-gradient-to-t from-[#0f172a] via-transparent to-transparent"></div>
                
                <div class="absolute bottom-5 left-5 right-5">
                    <div class="text-[10px] font-bold text-emerald-400 uppercase tracking-widest mb-1">Coming Soon</div>
                    <div class="flex items-baseline gap-2 mb-3">
                        <span class="text-5xl font-black font-mincho">{{ countdown.days }}</span>
                        <span class="text-sm font-bold">Days</span>
                        <span class="text-2xl font-mono text-white/80">{{ countdown.hours }}:{{ countdown.minutes }}</span>
                    </div>
                    
                    <div class="w-full">
                        <div class="flex justify-between text-[9px] font-bold text-white/50 mb-1">
                            <span>Now</span>
                            <span>2026.02.25</span>
                        </div>
                        <div class="h-1.5 bg-white/20 rounded-full overflow-hidden">
                            <div class="h-full bg-emerald-400 rounded-full transition-all duration-1000" :style="{ width: tripProgress + '%' }"></div>
                        </div>
                        <div class="text-[9px] text-emerald-400 mt-1 text-right font-bold">{{ Math.floor(tripProgress) }}% Ready</div>
                    </div>
                </div>
            </div>

            <div class="glass p-5">
                <div class="flex justify-between items-center mb-4">
                    <h3 class="font-bold text-sm text-white flex items-center"><i class="fas fa-calendar-alt mr-2 text-white/50"></i> ÊóÖÁ®ãÂ§©Ê∞£È†êÂ†±</h3>
                    <span class="text-[9px] bg-white/10 px-2 py-1 rounded text-white/60">2026 Feb</span>
                </div>
                <div class="flex gap-4 overflow-x-auto no-scrollbar pb-1">
                    <div v-for="(w, i) in forecast2026" :key="i" class="flex flex-col items-center min-w-[3.5rem] bg-white/5 p-2 rounded-xl border border-white/5">
                        <span class="text-[9px] font-bold text-white/50 mb-1">{{ w.date }}</span>
                        <i :class="w.icon" class="text-xl mb-1 text-white"></i>
                        <span class="text-sm font-black">{{ w.temp }}</span>
                        <span class="text-[8px] font-bold text-white/40 mt-1">{{ w.loc }}</span>
                    </div>
                </div>
            </div>

            <div class="grid grid-cols-2 gap-4">
                <button @click="currentView='wallet'" class="glass p-4 flex flex-col items-center justify-center aspect-[4/3] hover:bg-white/5 transition-colors">
                    <div class="w-10 h-10 rounded-full bg-orange-500/20 text-orange-400 flex items-center justify-center text-lg mb-2"><i class="fas fa-wallet"></i></div>
                    <span class="font-bold text-sm">Ë®òÂ∏≥</span>
                </button>
                <button @click="currentView='packing'" class="glass p-4 flex flex-col items-center justify-center aspect-[4/3] hover:bg-white/5 transition-colors">
                    <div class="w-10 h-10 rounded-full bg-blue-500/20 text-blue-400 flex items-center justify-center text-lg mb-2"><i class="fas fa-suitcase"></i></div>
                    <span class="font-bold text-sm">Ë°åÊùé</span>
                </button>
            </div>
        </div>

        <div v-if="currentView === 'itinerary'" class="space-y-6 pt-2">
            <div class="sticky top-0 z-30 bg-[#0f172a]/95 backdrop-blur-md pb-4 pt-2 -mx-5 px-5 border-b border-white/10">
                <div class="flex justify-between items-end mb-4">
                    <h2 class="text-2xl font-black font-mincho">{{ itinerary[dayIndex].date_short }}</h2>
                    <span class="text-xs font-bold bg-white/10 px-2 py-1 rounded">{{ itinerary[dayIndex].location }}</span>
                </div>
                <div class="flex gap-3 overflow-x-auto no-scrollbar mask-linear">
                    <button v-for="(day, idx) in itinerary" :key="idx" @click="dayIndex = idx"
                            class="flex-shrink-0 w-12 h-14 rounded-xl flex flex-col items-center justify-center border transition-all"
                            :class="dayIndex === idx ? 'bg-white text-slate-900 border-white' : 'bg-white/5 border-white/10 text-white/40'">
                        <span class="text-[9px] font-bold uppercase">{{ day.date_en.substr(0,3) }}</span>
                        <span class="text-lg font-black">{{ day.day }}</span>
                    </button>
                </div>
            </div>

            <div class="relative pl-2">
                <div class="absolute left-[7px] top-2 bottom-0 w-[2px] bg-white/10 rounded-full"></div>
                <div v-for="(place, pIdx) in itinerary[dayIndex].places" :key="pIdx" class="relative pl-8 mb-6 group">
                    <div class="absolute left-0 top-0 w-4 h-4 bg-[#0f172a] border-[3px] rounded-full z-10" :class="getTypeColor(place.type)"></div>
                    <div @click="openDetail(place)" class="glass p-5 relative overflow-hidden active:scale-[0.98] transition-all">
                        <i v-if="pIdx % 3 === 0" class="fas fa-cat absolute right-2 top-2 text-4xl opacity-5 rotate-12"></i>
                        
                        <div class="flex justify-between items-start mb-2 relative z-10">
                            <span class="text-[10px] font-black bg-white/10 px-2 py-1 rounded">{{ place.time }}</span>
                            <span class="text-[10px] font-bold opacity-60">{{ place.typeLabel }}</span>
                        </div>
                        <h3 class="text-lg font-black mb-1 relative z-10">{{ place.name }}</h3>
                        <p class="text-xs text-white/60 line-clamp-1 mb-3 relative z-10">{{ place.desc }}</p>
                        <div class="flex flex-wrap gap-2 relative z-10">
                            <span v-for="tag in place.highlights" class="px-2 py-1 bg-white/5 border border-white/10 rounded text-[10px] font-bold text-emerald-300">{{ tag }}</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div v-if="currentView === 'packing'" class="space-y-6 pt-4">
            <h2 class="text-2xl font-black font-mincho">Ë°åÊùéÊ∏ÖÂñÆ</h2>
            
            <div v-for="(group, key) in packingList" :key="key" class="glass overflow-hidden">
                <div class="bg-white/5 px-5 py-3 flex items-center gap-3 border-b border-white/5">
                    <i class="fas" :class="key==='handCarry'?'fa-briefcase':key==='tszLok'?'fa-mars text-blue-400':key==='tszTung'?'fa-venus text-pink-400':'fa-water'"></i>
                    <span class="font-bold text-sm uppercase tracking-wide">{{ keyLabels[key] }}</span>
                </div>
                <div class="p-2 grid gap-1">
                    <label v-for="(item, idx) in group" :key="idx" class="flex items-center p-3 hover:bg-white/5 rounded-xl cursor-pointer check-box transition-colors">
                        <input type="checkbox" v-model="item.checked" class="hidden">
                        <div class="w-5 h-5 rounded border-2 border-white/30 flex items-center justify-center mr-3 transition-colors bg-white/5"><i class="fas fa-check text-white text-[10px] opacity-0"></i></div>
                        <span class="text-sm font-bold transition-opacity" :class="{'line-through opacity-30': item.checked}">{{ item.name }}</span>
                    </label>
                </div>
            </div>
        </div>

        <div v-if="currentView === 'wallet'" class="space-y-6 pt-4">
            <h2 class="text-2xl font-black font-mincho">Ë®òÂ∏≥Êú¨</h2>
            <div class="flex gap-3 overflow-x-auto no-scrollbar pb-2">
                <div class="glass p-4 min-w-[140px] flex flex-col justify-between h-24 bg-gradient-to-br from-indigo-600/50 to-purple-600/50">
                    <span class="text-[10px] opacity-60 font-bold uppercase">Total</span>
                    <span class="text-xl font-mono font-black">¬•{{ totalBudget.toLocaleString() }}</span>
                </div>
                <div class="glass p-4 min-w-[140px] flex flex-col justify-between h-24">
                    <span class="text-[10px] opacity-60 font-bold uppercase flex items-center"><i class="fas fa-mars text-blue-400 mr-1"></i> TszLok</span>
                    <span class="text-xl font-mono font-black text-blue-300">¬•{{ calcPayerTotal('TszLok').toLocaleString() }}</span>
                </div>
                <div class="glass p-4 min-w-[140px] flex flex-col justify-between h-24">
                    <span class="text-[10px] opacity-60 font-bold uppercase flex items-center"><i class="fas fa-venus text-pink-400 mr-1"></i> TszTung</span>
                    <span class="text-xl font-mono font-black text-pink-300">¬•{{ calcPayerTotal('TszTung').toLocaleString() }}</span>
                </div>
            </div>
            
            <button @click="showBudgetInput=true" class="w-full py-4 bg-emerald-500 hover:bg-emerald-400 text-slate-900 rounded-2xl font-bold shadow-lg transition-colors flex items-center justify-center gap-2">
                <i class="fas fa-plus"></i> Êñ∞Â¢ûÊîØÂá∫
            </button>

            <div class="space-y-3">
                <div v-for="(item, idx) in budgetList" :key="idx" class="glass p-4 flex justify-between items-center">
                    <div class="flex items-center gap-3">
                        <div class="w-8 h-8 rounded-full flex items-center justify-center text-[10px] font-bold text-white shadow-sm" :class="item.payer==='TszLok'?'bg-blue-500':'bg-pink-500'">{{ item.payer==='TszLok'?'TL':'TT' }}</div>
                        <span class="text-sm font-bold">{{ item.name }}</span>
                    </div>
                    <div class="flex items-center gap-3"><span class="font-mono font-bold opacity-80">¬•{{ item.price }}</span><button @click="deleteBudget(idx)" class="text-white/20 hover:text-red-400"><i class="fas fa-times"></i></button></div>
                </div>
            </div>
        </div>

    </main>

    <nav class="fixed bottom-0 w-full h-[85px] bg-[#0f172a]/90 backdrop-blur-xl border-t border-white/10 z-50 flex justify-around items-center px-2 pb-safe-bottom">
        <button v-for="tab in tabs" :key="tab.id" @click="currentView = tab.id" 
                class="flex flex-col items-center justify-center w-14 h-full space-y-1 transition-all"
                :class="currentView === tab.id ? 'text-emerald-400 scale-110' : 'text-white/40'">
            <i :class="tab.icon" class="text-xl"></i>
            <span class="text-[9px] font-bold uppercase tracking-widest">{{ tab.label }}</span>
        </button>
    </nav>

    <div v-if="detailModal.show" class="fixed inset-0 z-[60] flex items-end justify-center">
        <div class="absolute inset-0 bg-black/80 backdrop-blur-sm" @click="detailModal.show=false"></div>
        <div class="bg-[#1e293b] w-full max-w-md rounded-t-3xl p-6 relative border-t border-white/20 animate-slide-up max-h-[85vh] overflow-y-auto">
            <div class="w-12 h-1 bg-white/20 rounded-full mx-auto mb-6"></div>
            <span class="px-3 py-1 bg-white/10 rounded-lg text-xs font-bold uppercase text-emerald-300">{{ detailModal.data.typeLabel }}</span>
            <h2 class="text-2xl font-black mt-3 mb-2 font-mincho">{{ detailModal.data.name }}</h2>
            <div class="text-sm font-bold opacity-60 mb-6 flex items-center"><i class="far fa-clock mr-2"></i> {{ detailModal.data.time }}</div>
            
            <div class="space-y-6 text-sm leading-relaxed">
                <div v-if="detailModal.data.desc">
                    <h4 class="text-xs font-bold opacity-50 uppercase tracking-widest mb-2">Description</h4>
                    <p class="font-bold">{{ detailModal.data.desc }}</p>
                </div>
                <div v-if="detailModal.data.strategy" class="bg-emerald-500/10 p-5 rounded-2xl border-l-4 border-emerald-500">
                    <h4 class="text-xs font-bold uppercase tracking-widest mb-3 flex items-center text-emerald-400"><i class="fas fa-chess-knight mr-2"></i>ÊîªÁï• Strategy</h4>
                    <div class="font-bold whitespace-pre-line">{{ detailModal.data.strategy }}</div>
                </div>
                <a v-if="detailModal.data.ticketLink" :href="detailModal.data.ticketLink" target="_blank" class="block w-full py-4 bg-emerald-600 text-white text-center rounded-2xl font-bold shadow-lg">View Ticket</a>
            </div>
            
            <div class="h-20"></div>
            <div class="absolute bottom-6 left-6 right-6">
                <button @click="openMap(detailModal.data.name)" class="w-full py-4 bg-white text-slate-900 rounded-2xl font-bold shadow-lg">Open Map</button>
            </div>
        </div>
    </div>

    <div v-if="showBudgetInput" class="fixed inset-0 z-[60] flex items-end justify-center">
        <div class="absolute inset-0 bg-black/80 backdrop-blur-sm" @click="showBudgetInput=false"></div>
        <div class="bg-[#1e293b] w-full max-w-md p-6 rounded-t-3xl border-t border-white/20 animate-slide-up">
            <h3 class="font-bold mb-4 text-lg">Add Expense</h3>
            <div class="flex gap-3 mb-4">
                <button v-for="p in payers" :key="p" @click="newItem.payer=p" class="flex-1 py-3 rounded-xl border font-bold text-sm transition-colors" :class="newItem.payer===p?(p==='TszLok'?'bg-blue-500 border-blue-500 text-white':'bg-pink-500 border-pink-500 text-white'):'border-white/20 text-white/50'">{{ p }}</button>
            </div>
            <input v-model="newItem.name" placeholder="Item Name" class="w-full bg-white/10 p-4 rounded-xl mb-3 font-bold outline-none border border-white/10 text-white placeholder-white/30">
            <input v-model.number="newItem.price" type="number" placeholder="¬• Amount" class="w-full bg-white/10 p-4 rounded-xl mb-6 font-bold outline-none border border-white/10 text-white placeholder-white/30">
            <div class="flex gap-3">
                <button @click="showBudgetInput=false" class="flex-1 py-3 font-bold text-white/50">Cancel</button>
                <button @click="addItem" class="flex-1 py-3 bg-white text-slate-900 rounded-xl font-bold">Save</button>
            </div>
        </div>
    </div>

</div>

<script>
    const { createApp, ref, computed, onMounted, watch } = Vue;

    createApp({
        setup() {
            const currentView = ref('dashboard');
            const dayIndex = ref(0);
            const detailModal = ref({ show: false, data: {} });
            const showBudgetInput = ref(false);
            
            // Data
            const payers = ['TszLok', 'TszTung'];
            const newItem = ref({ name: '', price: '', payer: 'TszLok' });
            const budgetList = ref([]);
            
            // MOCK WEATHER 2026 (Manual Data)
            const forecast2026 = [
                { date: "2/25", temp: "8¬∞C", icon: "fas fa-cloud-sun", loc: "Nagoya" },
                { date: "2/26", temp: "10¬∞C", icon: "fas fa-sun", loc: "Nagoya" },
                { date: "2/27", temp: "12¬∞C", icon: "fas fa-cloud", loc: "Nagoya" },
                { date: "2/28", temp: "-2¬∞C", icon: "fas fa-snowflake", loc: "Takayama" },
                { date: "3/1", temp: "-3¬∞C", icon: "fas fa-snowflake", loc: "Shirakawa" },
                { date: "3/2", temp: "-5¬∞C", icon: "fas fa-snowflake", loc: "Okuhida" },
                { date: "3/3", temp: "9¬∞C", icon: "fas fa-plane", loc: "Airport" }
            ];

            // PACKING LIST (FULL RESTORED)
            const keyLabels = { handCarry: 'Hand Carry', tszLok: 'TszLok (Boy)', tszTung: 'TszTung (Girl)', shared: 'Kayak / Shared' };
            const packingList = ref({
                handCarry: [
                    {name: 'ÂÄã‰∫∫Ë≠â‰ª∂ (Ë∫´ÂàÜË≠â/Ë≠∑ÁÖß/Á∞ΩË≠â)', checked: false}, {name: 'ÁôªÊ©üË≠â', checked: false}, 
                    {name: 'ÈäÄÂåÖ (Êó•Âπ£/Ê∏ØÂπ£/Âç°)', checked: false}, {name: 'SIMÂç° & Èáù', checked: false},
                    {name: 'ÊâãÊèêÈõªË©± & ÂÖÖÈõªÁ∑ö & Â∞øË¢ã', checked: false}, {name: 'ËÄ≥Ê©ü & Áõ∏Ê©ü', checked: false},
                    {name: 'È†êÁ¥ÑË≠âÊòé (‰ΩèÂÆø/‰∫§ÈÄö)', checked: false}, {name: 'Èò≤Áñ´Áî®ÂìÅ (Âè£ÁΩ©/Ê∂àÊØí)', checked: false}, 
                    {name: 'Á©∫Ê∞¥Ê®Ω & ÂéüÂ≠êÁ≠Ü', checked: false}, {name: 'Ë≠∑ÊâãÈúú/ÊΩ§ÂîáËÜè', checked: false}, 
                    {name: 'ÁúºÁΩ©/È†∏Êûï & ÁâôÂà∑', checked: false}, {name: 'Â±ã‰ºÅKey', checked: false}
                ],
                tszLok: [
                    {name: 'Â§ñÂá∫Ë°£Áâ©', checked: false}, {name: 'Áù°Ë°£Ë§≤', checked: false}, {name: 'ÂÖßË°£Ë§≤ & Ë•™', checked: false}, 
                    {name: 'Â§ñÂ•ó', checked: false}, {name: 'Áî∑Â£´ÂâÉÈ¨öÁî®ÂìÅ', checked: false}, 
                    {name: 'Ëê¨Áî®ËΩâÊèí & ÊãñÊùø', checked: false}, {name: 'Èõ®ÂÇò/Èõ®Ë°£', checked: false},
                    {name: 'ÊãñÈûã', checked: false}, {name: 'ÂÇôÁî®ÂØÜÂØ¶Ë¢ã/ËÜ†Ë¢ã', checked: false}
                ],
                tszTung: [
                    {name: 'Â§ñÂá∫Ë°£Áâ©', checked: false}, {name: 'Áù°Ë°£Ë§≤', checked: false}, {name: 'ÂÖßË°£Ë§≤ & Ë•™', checked: false}, 
                    {name: 'Â§ñÂ•ó', checked: false}, {name: 'ÂåñÂ¶ùÂìÅ & Âç∏Â¶ùÊ∞¥', checked: false}, 
                    {name: 'Ë≠∑ËÜöÂìÅ (Èù¢Èúú/Èò≤Êõ¨)', checked: false}, {name: 'Ê¥óÈù¢/Ê≤êÊµ¥/Ê¥óÈ†≠/Ë≠∑È´Æ', checked: false},
                    {name: 'È†≠È´ÆÂÆöÂûã (ÈùûÂ£ìÁ∏Æ)', checked: false}, {name: 'Ê¢≥ & È¢®Á≠í & Áõ¥È´ÆÂ§æ', checked: false},
                    {name: 'Èö±ÂΩ¢ÁúºÈè°', checked: false}, {name: 'Â•≥ÊÄßË≠∑ÁêÜÁî®ÂìÅ', checked: false},
                    {name: 'ÊØõÂ∑æ', checked: false}, {name: 'ÂÖ¨‰ªî', checked: false}, {name: 'Â§™ÈôΩÁúºÈè°', checked: false},
                    {name: 'Êë∫ÁñäÂºèÁÜ±Ê∞¥ÁÖ≤', checked: false}, {name: 'Ëø∑‰Ω†Ëó•ÂåÖ', checked: false}
                ],
                shared: [
                    {name: 'Kayak: Ê≥≥Ë°£/Èò≤Êõ¨Ë°´', checked: false}, {name: 'Kayak: Èò≤Ê∞¥Ë¢ã/ÊâãÊ©üÂ•ó', checked: false},
                    {name: 'Kayak: Aqua Shoes', checked: false}, {name: 'Kayak: ÊØõÂ∑æ/Ê≤ñÊ∂ºÊ∂≤', checked: false}
                ]
            });

            // ITINERARY DATA (FULL RESTORED)
            const itinerary = ref([
                { day: 1, date_short: "2/25", date_en: "Wed", location: "Nagoya", places: [
                    { time: "14:30", name: "‰∏≠ÈÉ®ÂúãÈöõÊ©üÂ†¥", type: "transport", typeLabel: "ÊäµÈÅî", desc: "NGO ÊäµÈÅî„ÄÇË∑üÈö®„ÄéÂêçÈêµÈõªËªä„ÄèÊåáÊ®ô„ÄÇ", strategy: "1. Ë≥ºË≤∑„ÄéŒº-Sky„ÄèÁâπÊÄ•Âà∏ (Á¥Ñ1250ÂÜÜ)„ÄÇ\n2. ÂÖ®ËªäÊåáÂÆöÂ∏≠ÔºåË´ãÊåâÂ∫ß‰ΩçÂùê„ÄÇ\n3. ‰∏äËªäÂâçË≤∑‰∏ÄÁì∂‰ºäÂè≥Ë°õÈñÄÁ∂†Ëå∂„ÄÇ", highlights: ["Á∂†Ëå∂"] },
                    { time: "15:30", name: "ÂâçÂæÄÂ∏ÇÂçÄ", type: "transport", typeLabel: "ÁßªÂãï", desc: "Êê≠‰πòÂêçÈêµ ‚Üí ÂêçÂè§Â±ãÁ´ô„ÄÇ", strategy: "ÊäµÈÅîÂêçÂè§Â±ãÁ´ôÂæåÔºå‰∏çË¶ÅÂá∫Á´ôÂà∞Âú∞Èù¢ÔºåÁõ¥Êé•Êâæ„ÄéÊ´ªÈÄöÁ∑ö (Á¥ÖÁ∑ö)„ÄèÂú∞ÈêµÊåáÊ®ô„ÄÇ\nÊê≠ÂæÄ„ÄéÂæ∑Èáç„ÄèÊñπÂêëÔºåËá≥„Äé‰πÖÂ±ãÂ§ßÈÄöÁ´ô„Äè„ÄÇ\nÊâæ 4B Êàñ 1A Âá∫Âè£ (ÊúâÈõªÊâ∂Ê¢Ø)„ÄÇ", highlights: ["Ê´ªÈÄöÁ∑ö", "4B/1AÂá∫Âè£"] },
                    { time: "16:30", name: "Ë•øÈêµÈÖíÂ∫ó Croom", type: "stay", typeLabel: "Check-in", desc: "ÊîæÂ•ΩË°åÊùé„ÄÇ", strategy: "Check-in ÂæåÂª∫Ë≠∞Áõ¥Êé•ÂéªÂ§ßÊµ¥Â†¥Ê¥óÂéªÈ£õË°åÁñ≤Âãû„ÄÇ\n(ÊàñÂú®ÊàøÈñì‰ºëÊÅØÔºåÈ£ØÂ∫óÂ∞çÈù¢Êúâ7-11)„ÄÇ", highlights: ["Â§ßÊµ¥Â†¥"] },
                    { time: "18:00", name: "Indo Ryori Kalash", type: "food", typeLabel: "ÊôöÈ§ê", desc: "Ê≠•Ë°å5ÂàÜÈêò„ÄÇÂç∞Â∫¶ÊñôÁêÜ„ÄÇ", strategy: "‚óè È£≤ÂìÅÔºöMango Lassi (Ëß£Ëæ£)„ÄÇ\n‚óè ‰∏ªÈ£üÔºöÂÖ©‰∫∫Èªû‰∏Ä‰ªΩ Cheese Naan Â∞±Â§†(Ë∂ÖÂ§ß)„ÄÇ\n‚óè ÂíñÂì©ÔºöButter Chicken (‰∏çËæ£) Êàñ Mutton Masala„ÄÇ\n‚óè ÁßòÊäÄÔºöÂêÉ‰∏çÂÆåÂñä 'Take out please' Áï∂Êó©È§ê„ÄÇ", highlights: ["Cheese Naan"] },
                    { time: "20:00", name: "Oasis 21", type: "spot", typeLabel: "Â§úÊôØ", desc: "Ê∞¥ÁöÑÂÆáÂÆôËàπ„ÄÇ", strategy: "Êê≠ÈõªÊ¢Ø‰∏äÈ†ÇÂ±§ÁéªÁíÉÂú∞Èù¢„ÄÇ\nËµ∞Âà∞Ê∞¥Ê±†Ê≠£‰∏≠Â§ÆÔºåÊãçÊîùÈõªË¶ñÂ°îÂÄíÂΩ±„ÄÇ", highlights: ["ÊãçÁÖß"] },
                    { time: "21:00", name: "‰æøÂà©ÂïÜÂ∫ó", type: "spot", typeLabel: "Êé°Ë≤∑", desc: "7-11„ÄÇ", strategy: "Ë≤∑ÂÆµÂ§úÂíåÊòéÂ§©ÁöÑÊ∞¥„ÄÇ\nÂøÖË≤∑ÔºöOhayo ÁÑ¶Á≥ñÁÉ§Â∏ÉËïæÂÜ∞Ê∑áÊ∑ã (Êï≤Á¢éË°®Èù¢ÁÑ¶Á≥ñÂêÉ)„ÄÇ", highlights: ["ÁÑ¶Á≥ñÂÜ∞Ê∑áÊ∑ã"] }
                ]},
                { day: 2, date_short: "2/26", date_en: "Thu", location: "Nagoya", places: [
                    { time: "09:00", name: "Konparu Ê¶ÆÂ∫ó", type: "food", typeLabel: "Êó©È§ê", desc: "Ê¶ÆÂú∞‰∏ãË°ó„ÄÇ", strategy: "‚ö†Ô∏è Êà∞Áï•ÔºöÁõ¥Êé•Ë∑üÂ∫óÂì°Ë™™ 'Take out please'ÔºåÂ∏∂ÂéªÂêâÂçúÂäõÁï∂ÂçàÈ§êÔºåÁúÅ‰∏ãÂúíÂçÄÊéíÈöäÊôÇÈñìÔºÅ\n‚ùå ‰∏çË¶ÅÂàáÈÇäÔºåÁÉ§ÈÅéÁöÑÈÇäÂæàÂ•ΩÂêÉ„ÄÇ", highlights: ["ÁÇ∏Ëù¶‰∏âÊòéÊ≤ª"] },
                    { time: "10:30", name: "ÂâçÂæÄÂêâÂçúÂäõ", type: "transport", typeLabel: "ÁßªÂãï", desc: "Âú∞ÈêµÊù±Â±±Á∑ö(Ê¶Æ) ‚Üí Ëó§‰πã‰∏ò ‚Üí Linimo„ÄÇ", strategy: "Âú®Ëó§‰πã‰∏òËΩâ Linimo Á£ÅÊµÆÂàóËªä„ÄÇ\nÂèØ‰ª•Âéª‰æøÂà©ÂïÜÂ∫óË≤∑ÂÄãÊûúÊòî (Smoothie)„ÄÇ", highlights: ["Linimo"] },
                    { time: "12:00", name: "ÂêâÂçúÂäõÂ§ßÂÄâÂ∫´", type: "spot", typeLabel: "ÈáçÈªû", desc: "ÊÑõ„ÉªÂú∞ÁêÉÂçöÁ¥ÄÂøµÂÖ¨Âúí„ÄÇ", strategy: "‚ö†Ô∏è TszLok Ë´ãÂãôÂøÖÂ∏∂Ë≠∑ÁÖßÔºÅ\n‚óè 12:00 Ê∫ñÊôÇÂÖ•Â†¥ (ÊåÅQR Code)„ÄÇ\n‚óè ÂãïÁ∑öÔºöÂÖàÊéí„ÄéÂêçÂ†¥Èù¢Â±ï„Äè(ÊâæÁÑ°ËáâÁî∑) ‚Üí ÁçµÊà∂Â∫ßÈõªÂΩ±Èô¢ ‚Üí ÂêÉ‰∏âÊòéÊ≤ª ‚Üí ÈÄõÂïÜÂ∫ó„ÄÇ\n‚óè ÂøÖË≤∑ÔºöÊπØÂ©ÜÂ©ÜÊàíÊåá„ÄÅÁÑ°ËáâÁî∑Âë®ÈÇä„ÄÇ", highlights: ["ÂêçÂ†¥Èù¢Â±ï"], booking: "Ticket Needed", ticketLink: "https://quickticket.moala.fun/books?id=d1315e41-24de-40a9-a20a-0cf36d07ec8f" },
                    { time: "18:30", name: "ÁÜ±Áî∞Ëì¨ËêäËªí", type: "food", typeLabel: "ÊôöÈ§ê", desc: "ÊùæÂùÇÂ±ãÂçóÈ§® 10F„ÄÇ", strategy: "üî• È∞ªÈ≠öÈ£ØÂõõÈÉ®Êõ≤Ôºö\n1. ÂàáÂçÅÂ≠óÂàÜÂõõ‰ªΩÔºåÂêÉÂéüÂë≥„ÄÇ\n2. Âä†Ëî•/Êµ∑Ëãî/Ëä•Êú´Êî™ÊãåÂêÉ„ÄÇ\n3. Âä†È´òÊπØËÆäËå∂Ê≥°È£Ø„ÄÇ\n4. ÈÅ∏ÂñúÊ≠°ÁöÑÂêÉ„ÄÇ", highlights: ["ÂøÖÂêÉ"], booking: "#8823" },
                    { time: "20:00", name: "HARBS Êú¨Â∫ó", type: "food", typeLabel: "ÁîúÈªû", desc: "ÈõªË¶ñÂ°îÊóÅ„ÄÇ", strategy: "Êúâ‰ΩçÂ≠êÂÖßÁî®ÔºåÊ≤í‰ΩçÂ≠êÂ§ñÂ∏∂ (Takeout) ÂõûÈ£ØÂ∫ó„ÄÇ\nÂøÖÈªûÔºöMille Crepes (Ê∞¥ÊûúÂçÉÂ±§)„ÄÇ", highlights: ["Ê∞¥ÊûúÂçÉÂ±§"] }
                ]},
                { day: 3, date_short: "2/27", date_en: "Fri", location: "Nagoya", places: [
                    { time: "09:00", name: "Komeda's Coffee", type: "food", typeLabel: "Êó©È§ê", desc: "Morning Service„ÄÇ", strategy: "ÈªûÈ£≤ÊñôÈÄÅÂêêÂè∏„ÄÇ\nÂª∫Ë≠∞ÈÅ∏ CÈ§ê (Á¥ÖË±ÜÊ≥•)„ÄÇ\nÂä†ÈªûÔºöMini Shiro-Noir (ÂÜ∞ËàáÁÅ´‰∏πÈ∫•È∫µÂåÖ)„ÄÇ", highlights: ["Á¥ÖË±ÜÂêêÂè∏"] },
                    { time: "10:00", name: "ÂêçÂè§Â±ãÊ∏ØÊ∞¥ÊóèÈ§®", type: "spot", typeLabel: "ÊôØÈªû", desc: "Êê≠ÂêçÊ∏ØÁ∑öËá≥ÂêçÂè§Â±ãÊ∏ØÁ´ô„ÄÇ", strategy: "‚óè Áõ¥Â•îÂåóÈ§® 3F ÁúãËôéÈØ®„ÄÇ\n‚óè Êü•Â•ΩÊµ∑Ë±öÁßÄÊôÇÈñìÔºåÊÉ≥ÊøïË∫´ÂùêÂâç4Êéí„ÄÇ\n‚óè ÂçóÈ§®ÁúãÊ≤ô‰∏ÅÈ≠öÈ¢®Êö¥„ÄÇ", highlights: ["ËôéÈØ®Ë°®Êºî"] },
                    { time: "13:30", name: "Áü¢Â†¥ÁÇ∏Ë±¨Êéí", type: "food", typeLabel: "ÂçàÈ§ê", desc: "Â§ßÈ†àÂ∫ó„ÄÇ", strategy: "‚óè ÂøÖÈªûÔºöTeppan Tonkatsu (ÈêµÊùø)„ÄÇ\n‚óè Á©øÁ¥ôÂúçÂÖúÔºåÈÜ¨Ê±ÅÊúÉÂô¥„ÄÇ\n‚óè Ê°å‰∏äËäùÈ∫ªÁ≤âÈö®ÊÑèÂä†„ÄÇ", highlights: ["ÈêµÊùøÂë≥Âôå"] },
                    { time: "15:00", name: "Â§ßÈ†àÂïÜÂ∫óË°ó", type: "spot", typeLabel: "ÈÄõË°ó", desc: "Êï£Á≠ñ„ÄÇ", strategy: "1. Alice on Wednesday: ÈëΩÂ∞èÈñÄÈÄ≤Âéª„ÄÇ\n2. ‰∏âËº™Á•ûÁ§æ: Êë∏ÂÖîÂ≠êÁü≥ÂÉèÊ±ÇÂ•ΩÈÅã„ÄÇ\n3. Seria: ÁôæÂÖÉÂ∫óÊåñÂØ∂„ÄÇ", highlights: ["‰∏âËº™Á•ûÁ§æ"] },
                    { time: "17:00", name: "Muji ÂêçÈêµÁôæË≤®", type: "spot", typeLabel: "Ë≥ºÁâ©", desc: "‰∏≠ÈÉ®ÊóóËâ¶Â∫ó„ÄÇ", strategy: "Âéª Food ÂçÄË≤∑Ë™øÁêÜÂåÖ (ÂíñÂì©„ÄÅÂπ¥Ëº™ËõãÁ≥ï„ÄÅËçâËéìÂ∑ßÂÖãÂäõ)„ÄÇ", highlights: ["Muji Food"] },
                    { time: "18:30", name: "Tsubame Bread", type: "food", typeLabel: "ÈªûÂøÉ", desc: "ÂêçÁ´ôÈôÑËøë„ÄÇ", strategy: "Â§ñÂ∏∂‰∏ÄÊ¢ù„ÄéÁµπÈ¶ôÂêêÂè∏„Äè(Kinuka) Áï∂ÊòéÂ§©ÂéªÈ´òÂ±±ÁöÑÊó©È§ê„ÄÇ\nÈ†Ü‰æøÂêÉ‰∏ÄÊîØÂåóÊµ∑ÈÅìÁâõÂ•∂ÈúúÊ∑áÊ∑ã„ÄÇ", highlights: ["ÁµπÈ¶ôÂêêÂè∏"] },
                    { time: "19:30", name: "È≥•ÈñãÁ∏ΩÊú¨ÂÆ∂", type: "food", typeLabel: "ÊôöÈ§ê", desc: "JR Gate Tower Êàñ ESCA„ÄÇ", strategy: "ÂêçÂè§Â±ã‰∫§Ë∂æÈõûÔºåÂè£ÊÑüÂÅèÁ°¨Q„ÄÇ\nÈªûË¶™Â≠ê‰∏ºÂíåÊâãÁæΩÂÖà„ÄÇ", highlights: ["Ë¶™Â≠ê‰∏º"] },
                    { time: "20:30", name: "Piyorin ËõãÁ≥ï", type: "food", typeLabel: "ÊåëÊà∞", desc: "ËªäÁ´ôË≤∑Â∞èÈõûËõãÁ≥ï„ÄÇ", strategy: "‚ö†Ô∏è Piyorin ÊåëÊà∞Ôºö\n1. ÊâãÊåÅ‰øùÊåÅÊ∞¥Âπ≥„ÄÇ\n2. Êê≠ÈõªÊâ∂Ê¢ØÊäìÁ∑äÊâ∂Êâã„ÄÇ\n3. ÂõûÈ£ØÂ∫óÊ≤íÂÄíÊâçÁÆóË¥è„ÄÇ", highlights: ["Piyorin"] }
                ]},
                { day: 4, date_short: "2/28", date_en: "Sat", location: "Takayama", places: [
                    { time: "08:30", name: "Check-out / ÁßªÂãï", type: "transport", typeLabel: "ÁßªÂãï", desc: "Â∏∂Â§ßË°åÊùéÂéªÂêçÂè§Â±ãÁ´ô„ÄÇ", strategy: "Êó©È§êÂêÉÊò®Â§©ÁöÑ Tsubame ÂêêÂè∏ÊàñËªäÁ´ôÈ£ØÁ≥∞„ÄÇ", highlights: [] },
                    { time: "09:00", name: "JR Hida ÁâπÊÄ•", type: "transport", typeLabel: "ÁßªÂãï", desc: "ÂâçÂæÄÈ´òÂ±±„ÄÇ", strategy: "‚óè ÊúàÂè∞Ë≤∑„ÄéÊùæÊµ¶ÂïÜÂ∫ó„Äè‰æøÁï∂Êàñ„ÄéÂ§©„ÇÄ„Åô„ÄèÈ£ØÁ≥∞„ÄÇ\n‚óè ÂäÉ‰ΩçÊåáÂÆö„ÄéLuggage Seat„Äè(ÊúÄÂæå‰∏ÄÊéí)„ÄÇ", highlights: ["Âè≥ÂÅ¥Â∫ß‰Ωç"] },
                    { time: "12:15", name: "È´òÂ±±Ê´ªÂ∫µ", type: "stay", typeLabel: "ÂØÑÊîæ", desc: "Âá∫Á´ôËµ∞3ÂàÜÈêò„ÄÇ", strategy: "Â§ßÂª≥ÂØÑÊîæË°åÊùéÔºåÊãøËôüÁ¢ºÁâå (‰∏çÁî®Check-in)„ÄÇ", highlights: [] },
                    { time: "13:00", name: "È´òÂ±±ËÄÅË°ó", type: "spot", typeLabel: "Êï£Á≠ñ", desc: "‰∏âÁî∫ÈÄö„ÄÇ", strategy: "‚óè ËàπÂùÇÈÖíÈÄ†ÔºöÊäïÂπ£Ë©¶ÂñùÊ∏ÖÈÖí„ÄÇ\n‚óè ÂùÇÂè£Â±ãÔºöÈ£õÈ©íÁâõÊè°Â£ΩÂè∏„ÄÇ\n‚óè ÂñúÂÖ´ÈÉéÔºöÁâõËÇâÂåÖ„ÄÇ", highlights: ["Ë©¶ÂñùÊ∏ÖÈÖí"] },
                    { time: "15:00", name: "Check-in", type: "stay", typeLabel: "ÂÖ•‰Ωè", desc: "ÂõûÈ£ØÂ∫ó„ÄÇ", strategy: "1. Â§ßÂª≥ Pillow Bar Êê∂ÊûïÈ†≠„ÄÇ\n2. ÈÄ≤ÊàøÊèõ‰∏ä„Äé‰ΩúÂãôË°£„Äè„ÄÇ\n3. ÂéªÈ†ÇÊ®ìÁúãÈ¢®ÊôØ„ÄÇ", highlights: ["‰ΩúÂãôË°£"] },
                    { time: "18:00", name: "Âë≥ËóèÂ§©Âúã", type: "food", typeLabel: "ÊôöÈ§ê", desc: "Â∞±Âú®È£ØÂ∫óÂ∞çÈù¢„ÄÇ", strategy: "‚óè ÂãôÂøÖÈ†êÁ¥Ñ (Ëã•ÁÑ°Ôºå16:30ÂéªÊéíÈöä)„ÄÇ\n‚óè Èªû 'Ajikura Mori' ÊãºÁõ§„ÄÇ\n‚óè ÈÄôË£°ÁöÑÊè°Â£ΩÂè∏ÊØîËÄÅË°óÂ•ΩÂêÉÔºåÂøÖÈªû„ÄÇ", highlights: ["ÁâπÈÅ∏È£õÈ©íÁâõ"], booking: "ÈúÄÈ†êÁ¥Ñ" },
                    { time: "22:00", name: "Â§úÈ≥¥ÊãâÈ∫µ", type: "food", typeLabel: "ÂÆµÂ§ú", desc: "È£ØÂ∫óÈ§êÂª≥„ÄÇ", strategy: "ÂÖçË≤ªÊèê‰æõÁöÑÊãâÈ∫µ„ÄÇ\nÈÇÑÈ§ìÁöÑË©±Âéª Lawson Ë≤∑ÁÇ∏ÈõûÂ°äÂêõ (Red)„ÄÇ", highlights: ["ÂÖçË≤ª"] }
                ]},
                { day: 5, date_short: "3/1", date_en: "Sun", location: "Shirakawa-go", places: [
                    { time: "08:00", name: "È£ØÂ∫óÊó©È§ê", type: "food", typeLabel: "Êó©È§ê", desc: "Ëá™Âä©È§ê„ÄÇ", strategy: "Â∞àÊîªÈÑâÂúüÊñôÁêÜÂçÄÔºöÊú¥ËëâÂë≥ÂôåÈÖçÁôΩÈ£Ø„ÄÅÈ£õÈ©íÁâõÂ•∂„ÄÇ", highlights: ["Êú¥ËëâÂë≥Âôå"] },
                    { time: "09:00", name: "ÊøÉÈ£õÂ∑¥Â£´", type: "transport", typeLabel: "ÁßªÂãï", desc: "ÂâçÂæÄÁôΩÂ∑ùÈÑâ„ÄÇ", strategy: "‚óè ÊøÉÈ£õÂ∑¥Â£´‰∏≠ÂøÉÊê≠Ëªä„ÄÇ\n‚óè Â±±Ë∑Ø50ÂàÜÈêòÔºåÊúÉÊöàËªäË´ãÂÖàÂêÉËó•„ÄÇ\n‚óè Â∏∂‰∏ÄÁì∂Ê∞¥„ÄÇ", highlights: [], booking: "Bus Ticket" },
                    { time: "10:00", name: "ÁôΩÂ∑ùÈÑâËßÄÂÖâ", type: "spot", typeLabel: "‰∏ñÁïåÈÅ∫Áî¢", desc: "ÂêàÊéåÊùë„ÄÇ", strategy: "1. Êê≠Êé•ÈßÅËªä‰∏äÂüéÂ±±Â±ïÊúõÂè∞„ÄÇ\n2. Ëµ∞Ë∑Ø‰∏ãÂ±±ÈÄõÂíåÁî∞ÂÆ∂„ÄÇ\n3. Âéª‰∏âÂ∞èÂ±ãÊãçÁÖß„ÄÇ", highlights: ["Â±ïÊúõÂè∞"] },
                    { time: "12:00", name: "Âñ´Ëå∂ËêΩ‰∫∫", type: "food", typeLabel: "ÂçàÈ§ê", desc: "Ochiudo„ÄÇ", strategy: "‚óè ‰ΩçÊñºÂ§ßÂêàÊéåÈÄ†Âú∞‰∏ã„ÄÇ\n‚óè ÈªûÂíñÂì©È£ØÊàñÁ¥ÖË±ÜÊπØ„ÄÇ\n‚óè ÂùêÂú®Âú∞ÁàêÊóÅÂèØ‰ª•„ÄéÁÑ°ÈôêÁ∫å„ÄèÁ¥ÖË±ÜÊπØ„ÄÇ", highlights: ["Á¥ÖË±ÜÊπØÁÑ°ÈôêÁ∫å"] },
                    { time: "16:00", name: "Ë≤∏ÂàáÈ¢®ÂëÇ", type: "spot", typeLabel: "Ê∫´Ê≥â", desc: "È£ØÂ∫óÈ†ÇÊ®ì„ÄÇ", strategy: "ÂõûÈ´òÂ±±ÂæåÔºåÂéªÈ†ÇÊ®ìÈ†êÁ¥ÑÁßÅ‰∫∫ÊπØÂ±ã„ÄÇ\nÊ≥°ÂÆåÂñùÂÖçË≤ªÂÜ∞Ê£í„ÄÇ", highlights: ["ÁßÅ‰∫∫ÊπØÂ±ã"] },
                    { time: "18:00", name: "‰∏∏Êòé", type: "food", typeLabel: "ÊôöÈ§ê", desc: "Ê≠•Ë°å5ÂàÜÈêò„ÄÇ", strategy: "ÈÄ≤Â∫óÊåáÂêç Sukiyaki (Â£ΩÂñúÁáí)„ÄÇ\nÊîªÁï•ÔºöËÇâÁâáÁÖÆÂ•Ω‰∏ÄÂÆöË¶ÅÊ≤æÊªøÁîüËõãÊ∂≤ÂÜçÂÖ•Âè£„ÄÇ", highlights: ["Â£ΩÂñúÁáí"], booking: "" },
                    { time: "20:00", name: "‰æøÂà©ÂïÜÂ∫ó", type: "spot", typeLabel: "Êé°Ë≤∑", desc: "7-11 Êàñ FamilyMart„ÄÇ", strategy: "Ë≤∑ÊòéÂ§©ÁöÑÊó©È§ê (Âõ†ÁÇ∫ÊòéÂ§©Ë¶ÅÊó©Ëµ∑ÂéªÈõ™Â±±)„ÄÇ\nÊé®Ëñ¶ÔºöÈõûËõãÊ≤ôÊãâ‰∏âÊòéÊ≤ª„ÄÅR-1 ÂÑ™Ê†ºÈ£≤„ÄÇ", highlights: ["ÊòéÊó•Êó©È§ê"] }
                ]},
                { day: 6, date_short: "3/2", date_en: "Mon", location: "Okuhida", places: [
                    { time: "07:30", name: "Coffee Don", type: "food", typeLabel: "Êó©È§ê", desc: "Ê≠•Ë°å5ÂàÜÈêò„ÄÇ", strategy: "Êò≠ÂíåÊ∞£Ê∞õÂíñÂï°Â∫ó„ÄÇÂêÉ Toast Set„ÄÇ\n(‰∏çÊÉ≥Êó©Ëµ∑Â∞±Âú®ÊàøÂêÉÊò®ÊôöË≤∑ÁöÑ)„ÄÇ", highlights: [] },
                    { time: "08:40", name: "ÂâçÂæÄÊñ∞Á©óÈ´ò", type: "transport", typeLabel: "ÁßªÂãï", desc: "Êê≠‰πòÂ∑¥Â£´„ÄÇ", strategy: "ÂùêÂ∑¶ÂÅ¥ (Left Side) ÁúãÈ¢®ÊôØ„ÄÇ", highlights: [] },
                    { time: "10:45", name: "Alps no Pan", type: "food", typeLabel: "‰∏≠Áπº", desc: "ÈçãÂπ≥È´òÂéüÁ´ô„ÄÇ", strategy: "ËΩâ‰πòÂâçÔºåÂéªÈ∫µÂåÖÂ∫óË≤∑ÂâõÂá∫ÁàêÁöÑ„ÄéÂèØÈ†å„Äè(Croissant)„ÄÇ", highlights: ["ÂèØÈ†å"] },
                    { time: "11:00", name: "Êñ∞Á©óÈ´òÁ∫úËªä", type: "spot", typeLabel: "ÁµïÊôØ", desc: "Á¨¨2ÊÆµÁ∫úËªä„ÄÇ", strategy: "‚óè Êê∂ÈõôÂ±§Á∫úËªä 2Ê®ì ‰ΩçÁΩÆ„ÄÇ\n‚óè Â±±È†ÇÂéªËµ∞Èõ™‰πãËø¥Âªä„ÄÅÂØÑÊòé‰ø°Áâá„ÄÇ", highlights: ["ÈõôÂ±§Á∫úËªä"], booking: "" },
                    { time: "13:40", name: "Âπ≥ÊπØ‰πãÊ£Æ", type: "spot", typeLabel: "ÂçàÈ§ê", desc: "ÂõûÁ®ã‰∏ãËªä„ÄÇ", strategy: "ÂúíÂçÄÂÖßÂêÉÈ£õÈ©íÁâõÈêµÊùøÁáí„ÄÇ\nÊ∫´Ê≥âÂæåÂñùÂíñÂï°ÁâõÂ•∂„ÄÇ", highlights: ["ÈêµÊùøÁáí"] },
                    { time: "14:30", name: "Èú≤Â§©Ê∫´Ê≥â", type: "spot", typeLabel: "Ê∫´Ê≥â", desc: "Âπ≥ÊπØ‰πãÊ£Æ„ÄÇ", strategy: "‚óè Ê∫ñÂÇô100ÂÜÜÁ°¨Âπ£Áî®ÈûãÊ´É„ÄÇ\n‚óè Â∏∂È£ØÂ∫óÂ∞èÊØõÂ∑æ‰æÜ„ÄÇ\n‚óè È´îÈ©óÈõ™‰∏≠Ë£∏Ë∫´Â•îË∑ëÊèõÊ±† (Êúâ16ÂÄãÊ±†)„ÄÇ", highlights: ["Êó•Ê≠∏Ê∫´Ê≥â"] },
                    { time: "18:00", name: "Center4 Hamburgers", type: "food", typeLabel: "ÊôöÈ§ê", desc: "È£õÈ©íÁâõÊº¢Â†°„ÄÇ", strategy: "È´òÂ±±Á¨¨‰∏ÄÂêçÊº¢Â†°„ÄÇ\nËã•Ë®Ç‰∏çÂà∞ÔºåÂéª„ÄéÂπ≥ÂÆâÊ®Ç„ÄèÂêÉÈ§ÉÂ≠ê„ÄÇ", highlights: ["Êº¢Â†°"], booking: "" }
                ]},
                { day: 7, date_short: "3/3", date_en: "Tue", location: "Airport", places: [
                    { time: "08:00", name: "ÂÆÆÂ∑ùÊúùÂ∏Ç", type: "spot", typeLabel: "Â∏ÇÈõÜ", desc: "Ê≤≥ÈÇäÊó©Â∏Ç„ÄÇ", strategy: "‚óè Âè™Êî∂ÁèæÈáëÔºåÊ∫ñÂÇôÈõ∂Èå¢„ÄÇ\n‚óè ÂøÖË≤∑ÔºöOwarigaya (ÁÇ∏ËõãÁôΩÈúú)„ÄÅÂë≥ÂôåÁÖéÈ§Ö„ÄÇ", highlights: ["ÊúùÂ∏Ç"], booking: "" },
                    { time: "11:00", name: "Ë±ÜÂ§©Áãó", type: "food", typeLabel: "Êó©ÂçàÈ§ê", desc: "ÊúÄÂæå‰∏ÄÁ¢óÊãâÈ∫µ„ÄÇ", strategy: "Èªû Chuka Soba (‰∏≠ËèØÊãâÈ∫µ)ÔºåÂä†‰∏ÄÈ°ÜÂë≥Áéâ„ÄÇ", highlights: [] },
                    { time: "13:30", name: "ÊøÉÈ£õÂ∑¥Â£´", type: "transport", typeLabel: "ÁßªÂãï", desc: "Áõ¥ÈÅî‰∏≠ÈÉ®Ê©üÂ†¥„ÄÇ", strategy: "‚óè ÁµïÂ∞çË¶ÅÊ∫ñÊôÇ„ÄÇ\n‚óè Ë°åÊùéÁõ¥Êé•‰∫§Áµ¶Âè∏Ê©üÊîæËªä‰∏ãÂ±§„ÄÇ\n‚óè ‰∏äËªäÂâçË≤∑Â•ΩÈõ∂È£üÈ£≤Êñô„ÄÅÊöàËªäËó•„ÄÇ", highlights: [], booking: "ÈúÄÈ†êÁ¥Ñ" },
                    { time: "17:00", name: "‰∏≠ÈÉ®ÂúãÈöõÊ©üÂ†¥", type: "spot", typeLabel: "Èõ¢Â¢É", desc: "T2„ÄÇ", strategy: "1. È†òË°åÊùé Check-in„ÄÇ\n2. ÈÄõ Flight of Dreams„ÄÇ\n3. Âéª„ÄéÈ¢®‰πãÊµ¥„ÄèÁúãÈ£õÊ©üÊ≥°ËÖ≥„ÄÇ", highlights: ["Ê≥¢Èü≥787"] },
                    { time: "18:00", name: "Ëù¶È§Ö", type: "spot", typeLabel: "Ë≥ºÁâ©", desc: "„Åà„Å≥„Åõ„Çì„Åπ„ÅÑ„ÅÆÈáå„ÄÇ", strategy: "‚óè 4Ê®ìÁáàÁ±†Ë°óÈôÑËøë„ÄÇ\n‚óè ÊãøÊâòÁõ§Ë©¶ÂêÉ„ÄÇ\n‚óè Ë≤∑ 'Mix' Â§ßÂåÖË£ùÊúÄÂàíÁÆó„ÄÇ", highlights: ["Ëù¶È§Ö"] },
                    { time: "21:00", name: "Ëµ∑È£õËøîÊ∏Ø", type: "transport", typeLabel: "Èõ¢Â¢É", desc: "T2 UO685„ÄÇ", highlights: [], booking: "" }
                ]}
            ]);

            // COUNTDOWN & PROGRESS
            const now = ref(new Date());
            const tripStart = new Date('2026-02-25T10:00:00+09:00');
            const countdown = computed(() => {
                const diff = tripStart - now.value;
                if(diff <= 0) return {days:0, hours:'00', minutes:'00'};
                return {
                    days: Math.floor(diff/(1000*60*60*24)),
                    hours: Math.floor((diff%(1000*60*60*24))/(1000*60*60)).toString().padStart(2,'0'),
                    minutes: Math.floor((diff%(1000*60*60))/(1000*60)).toString().padStart(2,'0')
                };
            });
            const tripProgress = computed(() => {
                const bookingDate = new Date('2025-02-25T10:00:00+09:00');
                const total = tripStart - bookingDate;
                const elapsed = now.value - bookingDate;
                const p = (elapsed / total) * 100;
                return Math.min(Math.max(p, 0), 100);
            });
            setInterval(() => now.value = new Date(), 60000);

            // INIT
            onMounted(() => { 
                initSnow();
                const b = localStorage.getItem('jp_v17_b'); if(b) budgetList.value = JSON.parse(b); 
                // FORCE RESTORE PACKING LIST EVERY TIME TO PREVENT LOSS
                localStorage.setItem('jp_v17_p', JSON.stringify(packingList.value));
            });
            watch(budgetList, v => localStorage.setItem('jp_v17_b', JSON.stringify(v)), {deep:true});

            const initSnow = () => {
                const c = document.getElementById('snow-container');
                if(!c) return;
                c.innerHTML = '';
                for(let i=0; i<30; i++) {
                    const f = document.createElement('div');
                    f.className = 'snowflake fas fa-snowflake';
                    f.style.left = Math.random()*100+'vw';
                    f.style.animationDuration = (Math.random()*5+5)+'s';
                    f.style.fontSize = (Math.random()*10+5)+'px';
                    c.appendChild(f);
                }
            };

            const getTypeColor = (t) => ({food:'border-orange-400', transport:'border-blue-400', stay:'border-purple-400', spot:'border-emerald-400'}[t]||'border-gray-400');
            const openDetail = (p) => { detailModal.value = { show:true, data:p }; };
            const openMap = (n) => window.open(`https://www.google.com/maps/search/?api=1&query=${n} Japan`, '_blank');
            const addItem = () => { if(newItem.value.name&&newItem.value.price){ budgetList.value.unshift({...newItem.value}); showBudgetInput.value=false; newItem.value={name:'',price:'',payer:'TszLok'}; }};
            const deleteBudget = (i) => budgetList.value.splice(i,1);
            const totalBudget = computed(() => budgetList.value.reduce((s,i)=>s+i.price,0));
            const calcPayerTotal = (p) => budgetList.value.filter(i=>i.payer===p).reduce((s,i)=>s+i.price,0);

            const tabs = [
                { id: 'dashboard', label: 'Home', icon: 'fas fa-home' },
                { id: 'itinerary', label: 'Plan', icon: 'fas fa-map-marked-alt' },
                { id: 'wallet', label: 'Wallet', icon: 'fas fa-wallet' },
                { id: 'packing', label: 'Pack', icon: 'fas fa-suitcase' }
            ];

            return { currentView, dayIndex, itinerary, budgetList, packingList, newItem, showBudgetInput, detailModal, forecast2026, countdown, tripProgress, openDetail, openMap, addItem, deleteBudget, totalBudget, calcPayerTotal, payers, tabs, keyLabels };
        }
    }).mount('#app');
</script>
</body>
</html>
